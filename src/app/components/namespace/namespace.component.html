<div class="table-container">
    <div class="button-container">
        <button class="button button-create" (click)="isCreateOpen=true">Create</button>
    </div>
    <table>
        <thead>
            <tr>
                <th>Namespace</th>
                <th>Control Key</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let ns of namespaces">
                <td>{{ns.namespace}}</td>
                <td>{{ns.controlKey}}</td>
                <td>
                    <button (click)="isUpdateOpen=true; selectedId=ns.id" class="button button-update">Update</button>
                    <button (click)="deleteNs(ns.id)" class="button button-delete">Delete</button>
                </td>
        </tbody>
    </table>

    
    <div class="modal-backdrop" *ngIf="isCreateOpen"></div>
    <div class="modal" *ngIf="isCreateOpen">
      <div class="modal-content">
        <span class="close-btn" (click)="isCreateOpen=false">&times;</span>
        <h2>Create Namespace</h2>
        
        <form [formGroup]="createForm" (ngSubmit)="createNs();isCreateOpen=false">
          <label for="namespace">Namespace:</label>
          <input formControlName="namespace" id="namespace" name="namespace" placeholder="Namespace">
    
          <label for="controlKey">Control Key:</label>
          <input formControlName="controlKey" id="control_key" name="control_key" placeholder="Control Key">
          
          <button type="submit">Create</button>
        </form>
      </div>
    </div>


    <div class="modal" *ngIf="isUpdateOpen">
        <div class="modal-content">
          <span class="close-btn" (click)="isUpdateOpen=false">&times;</span>
          <h2>Update Namespace</h2>
          
          <form [formGroup]="createForm" (ngSubmit)="updateNs();isUpdateOpen=false">
            <label for="namespace">Namespace:</label>
            <input formControlName="namespace" id="namespace" name="namespace" placeholder="Namespace">
      
            <label for="controlKey">Control Key:</label>
            <input formControlName="controlKey" id="control_key" name="control_key" placeholder="Control Key">
            
            <button type="submit">Update</button>
          </form>
        </div>
      </div>

</div>
